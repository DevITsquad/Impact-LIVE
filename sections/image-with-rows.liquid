{{ 'image-with-rows.css' | asset_url | stylesheet_tag }}


<div class="rows-wrapper" style="{% if section.settings.background_color != blank %}background-color: {{ section.settings.background_color }};{% endif %}">
    <div class="main-img">
        <img src="{{ section.settings.image | img_url: 'large' }}" alt="main-img">
    </div>
        <div class="content-rows">
            {% for block in section.blocks %}
                <div class="row-header">
                    <div class="row-icon">
                        {%- if block.settings.custom_icon != blank -%}
                            {%- capture sizes -%}{{ block.settings.icon_width }}px{%- endcapture -%}
                            {%- capture widths -%}{{ block.settings.icon_width }}, {{ block.settings.icon_width | times: 2 | at_most: block.settings.custom_icon.width }}{%- endcapture -%}
                            {%- capture style -%}--mobile-icon-max-width: {{ block.settings.mobile_icon_width }}px; --icon-max-width: {{ block.settings.icon_width }}px{%- endcapture -%}
                            {{- block.settings.custom_icon | image_url: width: block.settings.custom_icon.width | image_tag: loading: 'lazy', sizes: sizes, widths: widths, style: style, class: 'image-icon' -}}
                        {%- else -%}
                            {%- render 'icon' with block.settings.icon, width: block.settings.mobile_icon_width, height: block.settings.mobile_icon_width, class: 'sm:hidden' -%}
                            {%- render 'icon' with block.settings.icon, width: block.settings.icon_width, height: block.settings.icon_width, class: 'hidden sm:block' -%}
                        {%- endif -%}
                        </div>
                    <div class="row-title h4">
                        {{ block.settings.title }}
                    </div>
                </div>
                <div class="row-content">
                    {{ block.settings.content }}
                </div>
            {% endfor %}
        </div>
</div>


{% schema %}
    {
        "name": "DEV Image with rows",
        "class": "section",
        "tag": "section",
        "settings": [
            {
                "type": "image_picker",
                "id": "image",
                "label": "Image"
            },
            {
                "type": "color",
                "id": "background_color",
                "label": "Background color"
            }
        ],
        "blocks": [
            {
                "type": "tab",
                "name": "Row",
                "limit": 4,
                "settings": [
                    {
                        "type": "text",
                        "id": "title",
                        "label": "Row title",
                        "default": "Row 1"
                    },
                    {
                        "type": "richtext",
                        "id": "content",
                        "label": "Content",
                        "default": "<p>Use this text to share information about your brand with your customers.</p>"
                    },
                    {
                        "type": "select",
                        "id": "icon",
                        "label": "Icon",
                        "options": [
                          {
                            "value": "picto-coupon",
                            "label": "Coupon",
                            "group": "Shop"
                          },
                          {
                            "value": "picto-percent",
                            "label": "Percent",
                            "group": "Shop"
                          },
                          {
                            "value": "picto-gift",
                            "label": "Gift",
                            "group": "Shop"
                          },
                          {
                            "value": "picto-star",
                            "label": "Star",
                            "group": "Shop"
                          },
                          {
                            "value": "picto-like",
                            "label": "Like",
                            "group": "Shop"
                          },
                          {
                            "value": "picto-building",
                            "label": "Building",
                            "group": "Shop"
                          },
                          {
                            "value": "picto-love",
                            "label": "Love",
                            "group": "Shop"
                          },
                          {
                            "value": "picto-award-gift",
                            "label": "Award gift",
                            "group": "Shop"
                          },
                          {
                            "value": "picto-happy",
                            "label": "Happy",
                            "group": "Shop"
                          },
                          {
                            "value": "picto-box",
                            "label": "Box",
                            "group": "Shipping"
                          },
                          {
                            "value": "picto-pin",
                            "label": "Pin",
                            "group": "Shipping"
                          },
                          {
                            "value": "picto-timer",
                            "label": "Timer",
                            "group": "Shipping"
                          },
                          {
                            "value": "picto-validation",
                            "label": "Validation",
                            "group": "Shipping"
                          },
                          {
                            "value": "picto-truck",
                            "label": "Truck",
                            "group": "Shipping"
                          },
                          {
                            "value": "picto-return",
                            "label": "Return",
                            "group": "Shipping"
                          },
                          {
                            "value": "picto-earth",
                            "label": "Earth",
                            "group": "Shipping"
                          },
                          {
                            "value": "picto-plane",
                            "label": "Plane",
                            "group": "Shipping"
                          },
                          {
                            "value": "picto-credit-card",
                            "label": "Credit card",
                            "group": "Payment & Security"
                          },
                          {
                            "value": "picto-lock",
                            "label": "Lock",
                            "group": "Payment & Security"
                          },
                          {
                            "value": "picto-shield",
                            "label": "Shield",
                            "group": "Payment & Security"
                          },
                          {
                            "value": "picto-secure-profile",
                            "label": "Secure profile",
                            "group": "Payment & Security"
                          },
                          {
                            "value": "picto-money",
                            "label": "Money",
                            "group": "Payment & Security"
                          },
                          {
                            "value": "picto-recycle",
                            "label": "Recycle",
                            "group": "Ecology"
                          },
                          {
                            "value": "picto-leaf",
                            "label": "Leaf",
                            "group": "Ecology"
                          },
                          {
                            "value": "picto-tree",
                            "label": "Tree",
                            "group": "Ecology"
                          },
                          {
                            "value": "picto-mobile-phone",
                            "label": "Mobile phone",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-phone",
                            "label": "Phone",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-chat",
                            "label": "Chat",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-customer-support",
                            "label": "Customer support",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-operator",
                            "label": "Operator",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-mailbox",
                            "label": "Mailbox",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-envelope",
                            "label": "Envelope",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-comment",
                            "label": "Comment",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-question",
                            "label": "Question",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-send",
                            "label": "Send",
                            "group": "Communication"
                          },
                          {
                            "value": "picto-at-sign",
                            "label": "At sign",
                            "group": "Tech"
                          },
                          {
                            "value": "picto-camera",
                            "label": "Camera",
                            "group": "Tech"
                          },
                          {
                            "value": "picto-wifi",
                            "label": "WiFi",
                            "group": "Tech"
                          },
                          {
                            "value": "picto-bluetooth",
                            "label": "Bluetooth",
                            "group": "Tech"
                          },
                          {
                            "value": "picto-printer",
                            "label": "Printer",
                            "group": "Tech"
                          },
                          {
                            "value": "picto-smart-watch",
                            "label": "Smart watch",
                            "group": "Tech"
                          },
                          {
                            "value": "picto-coffee",
                            "label": "Coffee",
                            "group": "Food & Drink"
                          },
                          {
                            "value": "picto-burger",
                            "label": "Burger",
                            "group": "Food & Drink"
                          },
                          {
                            "value": "picto-beer",
                            "label": "Beer",
                            "group": "Food & Drink"
                          },
                          {
                            "value": "picto-target",
                            "label": "Target",
                            "group": "Other"
                          },
                          {
                            "value": "picto-document",
                            "label": "Document",
                            "group": "Other"
                          },
                          {
                            "value": "picto-jewelry",
                            "label": "Jewelry",
                            "group": "Other"
                          },
                          {
                            "value": "picto-music",
                            "label": "Music",
                            "group": "Other"
                          },
                          {
                            "value": "picto-file",
                            "label": "File",
                            "group": "Other"
                          },
                          {
                            "value": "picto-mask",
                            "label": "Mask",
                            "group": "Other"
                          },
                          {
                            "value": "picto-stop",
                            "label": "Stop",
                            "group": "Other"
                          }
                        ]
                    },
                    {
                        "type": "image_picker",
                        "id": "custom_icon",
                        "label": "Custom icon",
                        "info": "240 x 240px .png recommended"
                    },
                    {
                        "type": "range",
                        "id": "mobile_icon_width",
                        "min": 24,
                        "max": 120,
                        "step": 4,
                        "unit": "px",
                        "label": "Mobile icon width",
                        "default": 24
                    },
                    {
                        "type": "range",
                        "id": "icon_width",
                        "min": 24,
                        "max": 120,
                        "step": 4,
                        "unit": "px",
                        "label": "Icon width",
                        "default": 32
                    }
                ]
            }
        ],
          "presets": [
            {
                "name": "DEV Image with rows",
                "blocks": [
                  {
                    "type": "tab",
                    "settings": {
                        "title": "Row 1",
                        "content": "<p>Use this text to share information about your brand with your customers.</p>"
                    }
                  },
                  {
                    "type": "tab",
                    "settings": {
                        "title": "Row 2",
                        "content": "<p>Use this text to share information about your brand with your customers.</p>"
                    }
                  },
                  {
                    "type": "tab",
                    "settings": {
                        "title": "Row 3",
                        "content": "<p>Use this text to share information about your brand with your customers.</p>"
                    }
                  },
                  {
                    "type": "tab",
                    "settings": {
                        "title": "Row 4",
                        "content": "<p>Use this text to share information about your brand with your customers.</p>"
                    }
                  }
                ]
              }
          ]
    }
{% endschema %}
